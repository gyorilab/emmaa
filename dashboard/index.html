<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EMMAA dashboard</title>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

  <!-- Latest compiled and minified JavaScript -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

  <!-- AWS SDK -->
  <script src="https://sdk.amazonaws.com/js/aws-sdk-2.283.1.min.js"></script>

  <!-- Local Script Files -->
  <!-- <script src="http://localhost/awsServices.js"></script> -->
  <script src="https://s3.amazonaws.com/emmaa-test/awsServices.js"></script>
  <!-- <script src="http://localhost/emmaaFunctions.js"></script> -->
  <script src="https://s3.amazonaws.com/emmaa-test/emmaaFunctions.js"></script>
  <script>
    // Check if user signed in immediately after page load
    $(document).ready(function(){
      // checkSignIn()
      checkLatestModelsUpdate()
    })

    var OUTPUT_NODE = document.getElementById('signInUserPool');
    var MODELS_ARRAY = ['aml',      // Acute myeloid leukemia
                        'brca',     // Breast Cancer
                        'luad',     // Lung adenocarcinoma
                        'paad',     // Pancreas adenocarcinoma
                        'prad',     // Prostate adenocarcinoma
                        'skcm',     // Skin cutaneous melanoma
                        'rasmodel', // RasModel
                        'test']     // TestModel (only three nodes/two edges)
    var EMMMAA_BUCKET = 'emmaa';

    function getModels(keyMapArray, endsWith) {
      console.log('function getModels(keyMapArray, endsWith)')
      var models = {'aml': [],
                    'brca': [],
                    'luad': [],
                    'paad': [],
                    'prad': [],
                    'skcm': [],
                    'rasmodel': [],
                    'test': []}
      for (keyItem of keyMapArray) {
        if (keyItem.Key.endsWith(endsWith) & keyItem.Key.split('/').length == 3) {
          let model = keyItem.Key.split('/')[1]
          switch (model) {
            case 'aml':
              models[model].push(keyItem.Key.split('/')[2])
              break;
            case 'brca':
              models[model].push(keyItem.Key.split('/')[2])
              break;
            case 'luad':
              models[model].push(keyItem.Key.split('/')[2])
              break
            case 'paad':
              models[model].push(keyItem.Key.split('/')[2])
              break
            case 'prad':
              models[model].push(keyItem.Key.split('/')[2])
              break
            case 'skcm':
              models[model].push(keyItem.Key.split('/')[2])
              break
            case 'rasmodel':
              models[model].push(keyItem.Key.split('/')[2])
              break
            case 'test':
              models[model].push(keyItem.Key.split('/')[2])
              break
            default:
              console.log('Unhandled model ' + model)
              break
          }
        }
      }
      return models;
    }

    function checkLatestModelsUpdate() {
      listObjectsInBucketUnAuthenticated('modelUpdate', new AWS.S3(), 'emmaa', 'models', 100, '.pkl')
    }

    function modelsLastUpdated(keyMapArray, endsWith) {
      //  for each model:
      //    get list of all pickle
      //    sort list (alphabetically?) descendingly
      //    get first item
      //    item.split('/')[2].split('_')[1].split('.')[0] gives datetime string
      console.log('keyMapArray')
      console.log(keyMapArray)
      let modelsMapArray = getModels(keyMapArray, endsWith)
      console.log('modelsMapArray')
      console.log(modelsMapArray)

      let modelUpdateTags = document.getElementsByClassName('modelUpdateInfo')
      for (tag of modelUpdateTags) {
        let model = tag.getAttribute('id').split('Update')[0]
        console.log(model)
        if (model) {
          console.log('modelsMapArray[model].sort()[modelsMapArray[model].length - 1]: ' + modelsMapArray[model].sort()[modelsMapArray[model].length - 1])
          lastUpdated = modelsMapArray[model].sort()[modelsMapArray[model].length - 1].split('.')[0].split('_')[1]
          tag.textContent = 'Last updated: ' + lastUpdated;
        }
      }
    }

    function listObjectsInBucketUnAuthenticated(mode, s3Interface, bucket, prefix, maxKeys, endsWith) {
      // console.log('function listObjectsInBucket(s3Interface, bucket, prefix, maxKeys, endsWith)')
      let _maxKeys = 1000
      if (maxKeys & maxKeys < _maxKeys) {
        _maxKeys = maxKeys;
      }
      let params = {
        Bucket: bucket,
        MaxKeys: _maxKeys,
        Prefix: prefix
      }
      s3Interface.makeUnauthenticatedRequest('listObjectsV2', params, function(err, data) {
        if (err) console.log(err, err.stack);
        else {
          // console.log('List of objects resolved from S3')
          // console.log(data)
          switch (mode) {
            case 'modelUpdate':
              modelsLastUpdated(data.Contents, endsWith)
              break;

            // Default behaviour: just list key,value pairs in table
            default:
              let tableBody = document.getElementById('listObjectsTableBody');
              tableBody.innerHTML = null;
              for (let i = 0; i < data.Contents.length; i++) {
                if (data.Contents[i].Key.endsWith(endsWith)) {
                  let tableRow = document.createElement('tr');
                  
                  let modelColumn = document.createElement('td');

                  let modelLink = document.createElement('a');
                  modelLink.setAttribute('href', '#'); // LINK TO MODEL
                  modelLink.textContent = data.Contents[i].Key.split('/')[1]
                  modelColumn.appendChild(modelLink)
                  tableRow.appendChild(modelColumn);

                  let testColumn = document.createElement('td');
                  testColumn.textContent = data.Contents[i].Key.split('/')[2].split('.')[0];
                  let testJsonPromise = getPublicJson(bucket, data.Contents[i].Key);
                  testJsonPromise.then(function(json){
                    if (json[0].passed) {
                      testColumn.setAttribute('bgcolor', '00AA55;'); // Green if passed
                    }
                    else {
                      testColumn.setAttribute('bgcolor', 'DD4400;'); // Red if not
                    }
                  });
                  tableRow.appendChild(testColumn);

                  tableBody.appendChild(tableRow);
                }
              }
          }
        }
      });
    };

    // function grabJSON (url, callback) {
    //   return $.ajax({url: url, dataType: "json"});
    // };

    // // Constants and fixed IDs
    // var EMMAA_STATE_COOKIE_NAME = 'emmaaStateCookie=';
    // var EMMAA_ACCESSTOKEN_COOKIE_NAME = 'emmaaAccessCookie=';
    // var EMMAA_IDTOKEN_COOKIE_NAME = 'emmaaIdCookie=';
    // var STATE_VALUE = '' // State value to secure requests to cognito endpoints
    // var ACCESS_TOKEN_STRING = ''; // access token string
    // var ACCESS_TOKEN = {}; // access token
    // var ID_TOKEN_STRING = ''; // id token string
    // var ID_TOKEN = {}; // id token
    // var REFRESH_TOKEN = ''; // refresh token (typically not provided without providing username/password directly)
    // var APP_CLIENT_ID = '3ej6b95mbsu28e5nkcb6oa8fnp';
    // var AUTH_ENDPOINT_BASE_URL = 'https://emmaa.auth.us-east-1.amazoncognito.com/oauth2/authorize?';
    // var USER_SIGNED_IN = false;
    // var identityId = '' // 

    // // cognito parameters
    // var USER_POOL_ID = 'us-east-1_5sb1590b6'; // User pool ID; User info lives here
    // var IDENTITY_POOL_ID = 'us-east-1:76854655-a365-4e69-b080-0f8ca94a46fc'; // IdentityPool Id for "emmaa s3 test pool"
    // AWS.config.region = 'us-east-1' // Set region
    // AWS.config.credentials = new AWS.CognitoIdentityCredentials({
    //     IdentityPoolId: IDENTITY_POOL_ID,
    // });
    // var cogIdServiceProvider = new AWS.CognitoIdentityServiceProvider();

    // function _readCookie(cookieName) {
    //   console.log('function _readCookie()')
    //   var nameEQ = cookieName;
    //   var ca = document.cookie.split(';');
    //   for (var i = 0; i < ca.length; i++) {
    //     var c = ca[i];
    //     while (c.charAt(0) == ' ') c = c.substring(1, c.length);
    //     if (c.indexOf(nameEQ) == 0) {
    //       console.log('function _readCookie() resolved cookie value ' + c.substring(nameEQ.length, c.length))
    //       return c.substring(nameEQ.length, c.length)
    //     };
    //   }
    //   console.log('function _readCookie() did not resolve cookie value')
    //   return;
    // }

    // function _writeCookie(cookieName, value, hours) {
    //   console.log('function _writeCookie(cookieName, value, hours)')
    //   if (hours) {
    //     let _hours = 0;
    //     maxHours = 12;
    //     if (hours > maxHours) {
    //       _hours = maxHours;
    //     } else {
    //       _hours = hours;
    //     }
    //     // console.log('hours to expiration: ' + _hours)
    //     var date = new Date();
    //     date.setTime(date.getTime() + (_hours*60*60*1000))
    //     var expires = '; expires=' + date.toGMTString();
    //     // console.log('cookie expiration date: ' + date.toGMTString());
    //   } else var expires = '';  // No expiration or infinite?

    //   var cookieString = cookieName + value + expires + '; path=/'
    //   // console.log('cookieString: ' + cookieString);
    //   document.cookie = cookieString;
    // }

    // function _getNewStateValue() {
    //   let state = ''
    //   let numArray = window.crypto.getRandomValues(new Uint32Array(4))
    //   for (num of numArray) {
    //     state = state + window.btoa(num).replace(/=/g, '');
    //   }
    //   return state
    // }

    // function getDictFromUrl(url) {
    //   // No url provided
    //   if (!url) return;
    //   var query = {};
    //   // Check if (authorization) code flow or token (implicit) flow
    //   if (url.split('#')[1]) {
    //     query = url.split('#')[1];
    //   } else if (url.split('?')[1]) {
    //     query = url.split('?')[1];
    //   } else return;
      
    //   var result = {};
    //   query.split("&").forEach(function(part) {
    //     var item = part.split("=");
    //     result[item[0]] = decodeURIComponent(item[1]);
    //   });
    //   return result;
    // }

    // function responseResolve(err, data) {
    //   if (err) {
    //     console.log('Error occured while trying to initiate auth:')
    //     console.log(err, err.stack)
    //   } else {
    //     console.log('Auth data:')
    //     console.log(data)
    //     tokenData = data.AuthenticationResult;
    //     verifyUser(tokenData.AccessToken, tokenData.IdToken);
    //     return tokenData;
    //   }
    // }

    // function getTokenFromAuthEndpoint() {
    //   console.log('function getTokenFromAuthEndpoint()')
    //   STATE_VALUE = _getNewStateValue();
    //   // console.log('current STATE_VALUE: ' + STATE_VALUE)
    //   _writeCookie(EMMAA_STATE_COOKIE_NAME, STATE_VALUE, 1)
    //   base_url = AUTH_ENDPOINT_BASE_URL;
    //   resp_type = 'response_type=token';
    //   client_id='client_id=' + APP_CLIENT_ID;
    //   redirect = 'redirect_uri=http://localhost:5000/index.html';
    //   state = 'state=' + STATE_VALUE;
    //   cutom_scope = 'https://s3.console.aws.amazon.com/s3/buckets/emmaa/results.read'
    //   scope = 'scope=aws.cognito.signin.user.admin+openid+profile+' + cutom_scope;
    //   let get_url = base_url + resp_type + '&' + client_id + '&' + redirect + '&' + state + '&' + scope;
    //   console.log('get_url=' + get_url)
    //   window.location.replace(get_url) // Redirect
    // }

    // // Signing in using username/password, return JWTs
    // function signIn(uname, pwd) {
    //   console.log('Sign in button')
    //   cogIdServiceProvider.initiateAuth({
    //     'AuthFlow': 'USER_PASSWORD_AUTH', // What type of authentication to use
    //     'ClientId': APP_CLIENT_ID, // AppClientId for UserPool??
        
    //     AuthParameters: {
    //       'USERNAME': uname,
    //       'PASSWORD': pwd
    //       /* '<StringType>': ... */
    //     }
    //   }, function(err, data) {
    //     responseResolve(err, data)
    //   });
    // }

    // // CHECK SIGN IN
    // // this function should check if there is a session active and get the user pool tokens for that session
    // function checkSignIn() {
    //   console.log('function checkSignIn()')
    //   STATE_VALUE = _readCookie(EMMAA_STATE_COOKIE_NAME);
    //   let return_url = window.location.href;
    //   console.log('Return url: ' + return_url);
    //   url_dict = getDictFromUrl(return_url);

    //   // No dict returned. Probably at first visit to page
    //   if (!url_dict) return;
    //   // console.log('returned url_dict')
    //   // console.log(url_dict)

    //   // State value does not match, do not proceed; Simple first layer security
    //   if (url_dict['state'] != STATE_VALUE) {
    //     console.log('State Value does not match');
    //     notifyUser(document.getElementById('signInUserPool'), 'State Value does not match');
    //     return;
    //   };

    //   // Check if token flow
    //   if (url_dict['access_token']) {
    //     console.log('token from authorization-endpoint flow!')
    //     // console.log('ID token: ' + url_dict['id_token']);
    //     // console.log('Access token: ' + url_dict['access_token']);
    //     // console.log('token type: ' + url_dict['token_type']);
    //     // console.log('expires in: ' + url_dict['expires_in']);
    //     // console.log('STATE_VALUE match: ' + (url_dict['state'] == STATE_VALUE));
    //     if (verifyUser(url_dict['access_token'], url_dict['id_token'])) {
    //       console.log('User verified')
    //     } else {
    //       console.log('User could not be verified...')
    //     }
    //   } else {
    //     console.log('No pattern match...')
    //     notifyUser(document.getElementById('signInUserPool'), 'Unable to retreive session/session expired. Please log in again.');
    //   }
    // }

    // // VERIFY USER 
    // function verifyUser(accessTokenString, idTokenString) {
    //   console.log('function verifyUser(accessTokenString, idTokenString)');
    //   cogIdServiceProvider.getUser({'AccessToken': accessTokenString}, function(err, data) {
    //     if (err) {
    //       notifyUser(document.getElementById('signInUserPool'), 'Could not verify user');
    //       return false;
    //     } else {
    //       // console.log('User meta data from cogIdServiceProvider.getUser()');
    //       // console.log(data);
    //       username = data.Username;
    //       notifyUser(document.getElementById('signInUserPool'), 'Hello ' + username);
    //       ACCESS_TOKEN_STRING = accessTokenString;
    //       _writeCookie(EMMAA_ACCESSTOKEN_COOKIE_NAME, ACCESS_TOKEN_STRING, 1);
    //       ID_TOKEN_STRING = idTokenString;
    //       _writeCookie(EMMAA_IDTOKEN_COOKIE_NAME, ID_TOKEN_STRING, 1);
    //       USER_SIGNED_IN = true
    //       addUserToIdentityCredentials(ID_TOKEN_STRING) // Add user to identity pool 
    //       return true;
    //     }
    //   })
    // }

    // // ADD USER TO THE CREDENTIALS LOGIN MAP
    // function addUserToIdentityCredentials(userIdToken) {
    //   console.log('Linking user to IdentityPool with ID userIdToken')
    //   AWS.config.credentials = new AWS.CognitoIdentityCredentials({
    //       IdentityPoolId: IDENTITY_POOL_ID,
    //       Logins: {
    //         // cognito-idp.<region>.amazonaws.com/<YOUR_USER_POOL_ID>
    //         'cognito-idp.us-east-1.amazonaws.com/us-east-1_5sb1590b6': userIdToken
    //       }
    //   });

    //   // Call to obtain credentials
    //   AWS.config.credentials.get(function(){

    //       // Credentials will be available when this function is called.
    //       var accessKeyId = AWS.config.credentials.accessKeyId;
    //       var secretAccessKey = AWS.config.credentials.secretAccessKey;
    //       var sessionToken = AWS.config.credentials.sessionToken;
    //   });

    //   // AWS.config.credentials.identityId should now be available
    //   console.log('Setting identityId for logged in user')
    //   identityId = AWS.config.credentials.identityId;
    // }

    // function listObjectsInBucket(s3Interface, bucket, prefix, maxKeys, endsWith) {
    //   // console.log('function listObjectsInBucket(s3Interface, bucket, prefix, maxKeys, endsWith)')
    //   let _maxKeys = 1000
    //   if (maxKeys) {
    //     _maxKeys = maxKeys;
    //   }
    //   let params = {
    //     Bucket: bucket,
    //     MaxKeys: _maxKeys,
    //     Prefix: prefix
    //   }
    //   s3Interface.listObjectsV2(params, function(err, data) {
    //     if (err) console.log(err, err.stack);
    //     else {
    //       // console.log('List of objects resolved from S3')
    //       // console.log(data)
    //       let tableBody = document.getElementById('listObjectsTableBody');
    //       tableBody.innerHTML = null;
    //       for (let i = 0; i < data.Contents.length; i++) {
    //         if (data.Contents[i].Key.endsWith(endsWith)) {
    //           let tableRow = document.createElement('tr');
              
    //           let modelColumn = document.createElement('td');

    //           let modelLink = document.createElement('a');
    //           modelLink.setAttribute('href', '#'); // LINK TO MODEL
    //           modelLink.textContent = data.Contents[i].Key.split('/')[1]
    //           modelColumn.appendChild(modelLink)
    //           tableRow.appendChild(modelColumn);

    //           let testColumn = document.createElement('td');
    //           testColumn.textContent = data.Contents[i].Key.split('/')[2].split('.')[0];
    //           let testJsonPromise = getPublicJson(bucket, data.Contents[i].Key);
    //           testJsonPromise.then(function(json){
    //             if (json[0].passed) {
    //               testColumn.setAttribute('bgcolor', '00AA55;'); // Green if passed
    //             }
    //             else {
    //               testColumn.setAttribute('bgcolor', 'DD4400;'); // Red if not
    //             }
    //           });
    //           tableRow.appendChild(testColumn);

    //           tableBody.appendChild(tableRow);
    //         }
    //       }
    //     }
    //   });
    // };

    // // Can be used when something is public on S3
    // function getPublicJson(bucket, key) {
    //   // For production: get list of results and select based on some criteria
    //   base_url = 'https://s3.amazonaws.com'
    //   pathString = '/' + bucket + '/' + key;
    //   url = base_url +  pathString.replace(/\/\//g, '/'); // Avoid double slashes;
    //   // console.log('getting json from ' + url);
    //   return grabJSON(url);
    // }

    // // When and object needs credentials to be read from S3
    // function readFromS3(bucket, key) {
    //   s3InterfaceOptions = {
    //     credentials: AWS.config.credentials
    //   }
    //   console.log('New s3 interface object using the following AWS.config.credentials:');
    //   console.log(AWS.config.credentials);
    //   var s3Interface = new AWS.S3(s3InterfaceOptions);
    //   var params = {
    //     Bucket: bucket,
    //     Key: key
    //     // Bucket: 'emmaa-test',
    //     // Key: 'test-results-public/test_json_on_S3.json',
    //   }

    //   // Documentation for s3.getObject():
    //   // https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#getObject-property
    //   s3Interface.getObject(params, function(err, data){
    //     if (err) {
    //       console.log(err);
    //       return;
    //     }
    //     else {
    //       console.log('S3 getOjbect resolved successfully');
    //       console.log(data);
    //       let s3ObjectJSON = data.Body;
    //       return s3ObjectJSON;
    //     }
    //   });
    // }

    // // CHANGE TEXT
    // function notifyUser(outputNode, outputText) {
    //   // Add other things here
    //   outputNode.textContent = outputText;
    // }

  </script>

  <style type="text/css">
    .container {
      margin: 0px;
      padding: 0px;
    }
    .card {
      margin: 15px;
    }
    .card-body {
       text-align: left;
    }
  </style>

<body>
  <!-- Page Header -->
  <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
    <h5 class="my-0 mr-md-auto font-weight-normal">EMMAA Dashboard</h5>
    <nav class="my-2 my-md-0 mr-md-3">
      <a class="p-2 text-dark" href="#about">About</a>
    </nav>
    <button class="btn btn-outline-primary" id="signInUserPool" onClick="getTokenFromAuthEndpoint()">Sign up/Sign in</button>
  </div>

  <div class="container">
    <div class="row card-deck mb-3 text-center">
      <div class="col-md-4">
        <div class="card mb-4 shadow-sm">
          <div class="card-header">
            <h4 class="my-0 font-weight-normal">Acute myeloid leukemia</h4>
          </div>
          <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" alt="Thumbnail [100%x225]" src="images/aml_network_1step_KRAS.png" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">
          <div class="card-body">
            <p class="card-text">Short model description of acute myeloid leukemia</p>
            <p class="card-text modelUpdateInfo" id="amlUpdate">Last updated</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <a class="btn btn-sm btn-outline-secondary" href="./model.html?model=aml">Details</a>
                <a class="btn btn-sm btn-outline-secondary" href="http://ndexbio.org/#/network/ef58f76d-f6a2-11e8-aaa6-0ac135e8bacf">View on NDEX</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card mb-4 shadow-sm">
          <div class="card-header">
            <h4 class="my-0 font-weight-normal">Breast Cancer</h4>
          </div>
          <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" alt="Thumbnail [100%x225]" src="images/brca_netwrok_1step_RB1.png" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">
          <div class="card-body">
            <p class="card-text">Short model description of breast cancer</p>
            <p class="card-text modelUpdateInfo" id="brcaUpdate">Last updated</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <a class="btn btn-sm btn-outline-secondary" href="./model.html?model=brca">Details</a>
                <a class="btn btn-sm btn-outline-secondary" href="http://ndexbio.org/#/network/a16b5ca0-f6a3-11e8-aaa6-0ac135e8bacf">View on NDEX</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card mb-4 shadow-sm">
          <div class="card-header">
            <h4 class="my-0 font-weight-normal">Lung adenocarcinoma</h4>
          </div>
          <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" alt="Thumbnail [100%x225]" src="images/luad_network_1step_KRAS.png" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">
          <div class="card-body">
            <p class="card-text">Short model description of lung adenocarcinoma</p>
            <p class="card-text modelUpdateInfo" id="luadUpdate">Last updated</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <a class="btn btn-sm btn-outline-secondary" href="./model.html?model=luad">Details</a>
                <a class="btn btn-sm btn-outline-secondary" href="http://ndexbio.org/#/network/b56642b3-f6a3-11e8-aaa6-0ac135e8bacf">View on NDEX</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card mb-4 shadow-sm">
          <div class="card-header">
            <h4 class="my-0 font-weight-normal">Pancreas adenocarcinoma</h4>
          </div>
          <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" alt="Thumbnail [100%x225]" src="images/paad_network_1step_KRAS.png" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">
          <div class="card-body">
            <p class="card-text">Short model description of pancreas adenocarcinoma</p>
            <p class="card-text modelUpdateInfo" id="paadUpdate">Last updated</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <a class="btn btn-sm btn-outline-secondary" href="./model.html?model=paad">Details</a>
                <a class="btn btn-sm btn-outline-secondary" href="http://ndexbio.org/#/network/8d1330ca-f6a2-11e8-aaa6-0ac135e8bacf">View on NDEX</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card mb-4 shadow-sm">
          <div class="card-header">
            <h4 class="my-0 font-weight-normal">Prostate adenocarcinoma</h4>
          </div>
          <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" alt="Thumbnail [100%x225]" src="images/prad_network_1step_KRAS.png" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">
          <div class="card-body">
            <p class="card-text">Short model description of prostate adenocarcinoma</p>
            <p class="card-text modelUpdateInfo" id="pradUpdate">Last updated</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <a class="btn btn-sm btn-outline-secondary" href="./model.html?model=prad">Details</a>
                <a class="btn btn-sm btn-outline-secondary" href="http://ndexbio.org/#/network/caa8c3f6-f6a3-11e8-aaa6-0ac135e8bacf">View on NDEX</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card mb-4 shadow-sm">
          <div class="card-header">
            <h4 class="my-0 font-weight-normal">Skin cutaneous melanoma</h4>
          </div>
          <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" alt="Thumbnail [100%x225]" src="images/skcm_network_1step_CDKN2A.png" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">
          <div class="card-body">
            <p class="card-text">Short model description of skin cutaneous melanoma</p>
            <p class="card-text modelUpdateInfo" id="skcmUpdate">Last updated</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <a class="btn btn-sm btn-outline-secondary" href="./model.html?model=skcm">Details</a>
                <a class="btn btn-sm btn-outline-secondary" href="http://ndexbio.org/#/network/da832549-f6a3-11e8-aaa6-0ac135e8bacf">View on NDEX</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card mb-4 shadow-sm">
          <div class="card-header">
            <h4 class="my-0 font-weight-normal">Test RAS</h4>
          </div>
          <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" alt="Thumbnail [100%x225]" src="images/ras_test_network.png" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">
          <div class="card-body">
            <p class="card-text">Short model description of the test model</p>
            <p class="card-text modelUpdateInfo" id="testUpdate">Last updated</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <a class="btn btn-sm btn-outline-secondary" href="./model.html?model=skcm">Details</a>
                <a class="btn btn-sm btn-outline-secondary" href="http://ndexbio.org/#/network/a08479d1-24ce-11e9-bb6a-0ac135e8bacf">View on NDEX</a>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <footer class="footer text-muted" id="about" style="background: #F5F5F5;">
    <div class="container">
      <h5 class="my-0 mr-md-auto font-weight-normal">About</h5>
      <small>
        <p class="float-right">
          <a href="#">Back to top</a>
        </p>
        <p><a href="https://indralab.github.io">INDRALAB</a></p>
        <p><a href="http://hits.harvard.edu">Harvard Program in Therapeutic Science (HiTS)</a></p>
        <p><b>Automating Scientific Knowledge Extraction (ASKE)</b><br>EMMAA (Ecosystem of Machine-maintained Models with Automated Assembly) is a part of the DARPA ASKE program, which is part of DARPA's broader Artificial Intelligence Exploration program with the goal of developing technologies for the "Third Wave" of AI.<br><i>The EMMAA project is funded by the Defense Advanced Research Projects Agency under award HR00111990009.</i></p>
      </small>
    </div>
  </footer>
</body>
</html>
